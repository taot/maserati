
@import maserati.data

@layout("360°车型体验") {
    <style type="text/css">
        @for(m <- data.models.list_all) {
        .mobiles-content .mobile-thumbnail.@{m.id} {
            background-image: url(@{"/assets/images/" + m.thumbnail});
        }
        .mobiles-content .mobile-thumbnail.@{m.id}:hover {
            background-image: url(@{"/assets/images/" + m.thumbnailDark});
        }
        }
    </style>

    @for((serie, i) <- data.series.all.zipWithIndex) {
    <div class="mobiles-content"
         id="mobiles-content-@{serie.id}"
         style="background-image: url(/assets/images/@{serie.background});@{if (i == 0) "" else " display:none;"}">

        @for(m <- serie.models) {
        <div class="box">
            <div class="mobile-thumbnail @{m.id}"
                 exterior="/assets/360Panos/@{m.exterior360}"
                 interior="/assets/360Panos/@{m.interior360}">

                <!--div class="arrow"></div-->
            </div>
            <div class="text">@{m.name}</div>
            <button class="btn discover-more-btn" model="@{m.id}">发现更多</button>
            @if(m.hasTestDrive) {
            <button class="btn test-drive-btn">预约试驾</button>
            }
        </div>
        }
    </div>
    }

    <div class="mobiles-menu-bar">
        @for(s <- data.series.all) {
        <span class="menu mobiles-content-switch" tgt="mobiles-content-@{s.id}">@{s.name}</span>
        }
    </div>

    <div class="mobiles-menu-bar-shadow"></div>


    <!-- 360 窗口 -->
    <div class="mobiles-360-container">

        <div class="mobiles-360-header">
            <button class="btn exterior-btn">外观360°</button>
            <button class="btn interior-btn">内饰360°</button>
            <button class="btn close-360-btn">关闭</button>
        </div>

        <iframe class="mobiles-360-body" src=""></iframe>

    </div>

    <!-- 发现更多窗口 -->
    @for((m, i) <- data.models.list_all.zipWithIndex) {
    <div id="discover-container-@{m.id}" class="discover-container">

        <div class="btn-bar">
            <button class="close-discover-btn" model="@{m.id}"></button>
        </div>


        <div class="text-container">
            <div class="text mobile-name">@{m.name}</div>
            <div class="text mobile-desc">@{m.subName}</div>
            <div class="text shadow"></div>

            @for((l1, l2) <- m.detail.lines) {
                <div class="text">@l1</div>
                <div class="text">@l2</div>
            }
        </div>


        <div class="discover-image">

            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    @for((p, i) <- m.detailPics.zipWithIndex) {
                    <div class="item @{if(i==0) "active" else ""}">
                        <img src="/assets/images/@{p}">
                    </div>
                    }
                </div>
                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous</span>
                    </span>
                </a>
                <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

        </div>
    </div>
    }

    <script src="@routes.Assets.at("javascripts/mobiles.js")" type="text/javascript"></script>
}
